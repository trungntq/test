!function(b){"use strict";function a(j){function k(a){var c=b(a.target).is(":checked"),d=B.find(".cmm4e-nav-link"),e=B.find(".cmm4e-item-label");c?(!0,e.length&&e.hide()):(!1,e.length?e.show():d.append("<span class=\"cmm4e-item-label\">"+top.clever_mega_menu_item_title+"</span>"))}function n(a){var c=b(a.target).is(":checked"),d=B.find("> .cmm4e-nav-link"),e=d.find("> .menu-item-badge");c?(!0,e.length?e.css({display:"inline-block"}):d.append("<span class=\"menu-item-badge\" style=\"line-height:1;color:#fff;background-color:#2ed164\">New</span>")):(!1,e.length&&e.hide())}function q(a){B.is(":hidden");var c=B.find("> .cmm4e-item-toggle"),d=b(a.target).is(":checked"),e=B.find("> .menu-item-arrow");if(j.toggleMega(d),d){if(z=!0,x.sections.megaPanel.show(),x.sections.flyoutPanel.hide(),B.addClass("cmm4e-mega menu-item-has-children cmm4e-item-has-content"),B.find("> .cmm4e-sub-container").hide(),c.length||B.append("<span class=\"cmm4e-item-toggle cs-font clever-icon-plus\"></span>"),e.length)e.show();else{var f="vertical"===y.desktop.orientation?y.arrows.right:y.arrows.down;B.append("<span role=\"presentation\" class=\"menu-item-arrow "+f+"\"></span>")}E.find("#cmm4e-menu-content").show()}else{var g=B.find("> .cmm4e-sub-container");z=!1,x.sections.megaPanel.hide(),x.sections.flyoutPanel.show(),B.removeClass("cmm4e-mega cmm4e-item-has-content"),g.length?g.show():(B.removeClass("menu-item-has-children"),B.find("> .menu-item-arrow").hide()),E.find("#cmm4e-menu-content").hide()}}function o(a){var c=b(a.target).val();j.setIcon(c);var d=B.find("> .cmm4e-nav-link > .menu-item-icon");d.length?d.find("i").attr("class",c):b("<span class=\"menu-item-icon\"><i class=\""+c+"\"></i></span>").insertBefore(B.find("> .cmm4e-nav-link > .cmm4e-item-label"))}function h(a){b(a.target).is(":checked")?(!0,B.addClass("cmm4e-hide-on-mobile"),"mobile"!==A&&"tablet"!==A||(B.hide(),B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").hide())):(!1,B.removeClass("cmm4e-hide-on-mobile"),B.show(),B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").show())}function t(a){if(b(a.target).is(":checked"))!0,B.hasClass("cmm4e-hide-sub-on-mobile")||B.addClass("cmm4e-hide-sub-on-mobile"),B.find("> .cmm4e-item-toggle").hide(),"mobile"!==A&&"tablet"!==A||B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").hide();else{!1,B.removeClass("cmm4e-hide-sub-on-mobile");var c=B.find("> .cmm4e-item-toggle");c.length?c.show():(B.append("<span class=\"cmm4e-item-toggle cs-font clever-icon-plus\"></span>"),c=B.find("> .cmm4e-item-toggle")),B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").show()}}function g(a){b(a.target).is(":checked")?(!0,B.addClass("cmm4e-hide-on-desktop"),"desktop"===A&&(B.hide(),B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").hide())):(!1,B.removeClass("cmm4e-hide-on-desktop"),B.show(),B.hasClass("cmm4e-mega")&&E.find("#cmm4e-menu-content").show())}function p(){var a=B.find("> .cmm4e-content-container"),b=elementor.channels.deviceMode.request("currentMode");"mobile"===(A=b)||"tablet"===b?(B.hasClass("cmm4e-hide-on-mobile")?B.hide():B.show(),B.hasClass("cmm4e-hide-sub-on-mobile")&&B.find("> .cmm4e-item-toggle").hide(),z&&(a.length?a.hide():B.append("<div class=\"cmm4e-content-container\" style=\"display: none\"><div class=\"cmm4e-content-wrapper\">"+D.html()+"</div></div>"),D.hide())):"desktop"===b?(B.hasClass("cmm4e-hide-on-desktop")?B.hide():B.show(),B.hasClass("cmm4e-mega")?B.find(".cmm4e-content-container").show():B.hasClass("menu-item-has-children")&&B.find(".cmm4e-sub-container").show(),z&&(a.hide(),D.show())):B.show()}function f(){var a=b("#elementor-panel-page-settings-controls");b("#elementor-panel-page-settings .elementor-tab-control-style").hide(),b("#elementor-panel-header-title").html(top.cmm4eL10n.edit+" \""+top.clever_mega_menu_item_title+"\""),x={sections:{general:b(".elementor-control-document_settings",a),flyoutPanel:b(".elementor-control-flyout_panel_settings",a),megaPanel:b(".elementor-control-mega_panel_settings",a)},controls:{hideTitle:b(".elementor-control-hide_title",a),enableMega:b(".elementor-control-enable_mega",a),iconSelect:b(".elementor-control-cmm4e_icon",a),hideOnMobile:b(".elementor-control-hide_on_mobile",a),hideSubOnMobile:b(".elementor-control-hide_sub_on_mobile",a),hideOnDesktop:b(".elementor-control-hide_on_desktop",a),showBadge:b(".elementor-control-show_badge",a)}},b(".elementor-control-post_status",a).hide(),b(".elementor-control-field-description",x.hideTitle).hide(),b("input",x.controls.enableMega).length&&(z=b("input",x.controls.enableMega).is(":checked"))&&(B.hasClass("menu-item-has-children")?B.find(".cmm4e-sub-container").hide():B.addClass("menu-item-has-children cmm4e-item-has-content")),b("input",x.controls.hideTitle).length&&b("input",x.controls.hideTitle).is(":checked"),b("input",x.controls.hideOnMobile).length&&b("input",x.controls.hideOnMobile).is(":checked"),b("input",x.controls.hideOnDesktop).length&&b("input",x.controls.hideOnDesktop).is(":checked"),b("input",x.controls.showBadge).length&&b("input",x.controls.showBadge).is(":checked"),z?(x.sections.megaPanel.show(),x.sections.flyoutPanel.hide()):(x.sections.megaPanel.hide(),x.sections.flyoutPanel.show())}function u(){b("input",x.controls.hideTitle).on("change",k),b("input",x.controls.enableMega).on("change",q),b("select",x.controls.iconSelect).on("change",o),b("input",x.controls.hideOnMobile).on("change",h),b("input",x.controls.hideSubOnMobile).on("change",t),b("input",x.controls.hideOnDesktop).on("change",g),b("input",x.controls.showBadge).on("change",n)}function v(a){a._isRendered&&(f(),u())}function w(a){f(),u(),a.on("render:collection",v)}var x={},y=(j=j,null),z=!1,A="desktop",B=null,C=null,D=null,E=null;elementor.on("preview:loaded",function(){A=elementor.channels.deviceMode.request("currentMode"),D=elementor.$previewContents.find("#cmm4e-menu-content"),B=elementor.$previewContents.find("#cmm4e-menu-item-"+j.menuId),E=elementor.$previewContents.find("#cmm4e-menu-container"),C=E.find("> .cmm4e-navigation-menu > .cmm4e-container > .cmm4e"),y=C.data("config"),B.addClass("cmm4e-current-menu-item cmm4e-current-edit-item"),"mobile"!==A&&"tablet"!==A||(B.hasClass("cmm4e-hide-on-mobile")&&B.hide(),B.hasClass("cmm4e-hide-sub-on-mobile")&&B.find(".cmm4e-sub-panel").hide()),"desktop"===A&&B.hasClass("cmm4e-hide-on-desktop")&&B.hide(),E.hasClass("cmm4e-mega-disabled")&&E.find("#cmm4e-menu-content").hide(),j.isChild&&B.parents(".cmm4e-sub-container").css({visibility:"visible",opacity:1});var a=parseFloat(B.offset().top-B.height()),c=parseFloat(a-B.height());B.hasClass("cmm4e-mega")&&(D.hasClass("cmm4e-content-vertical")?E.find(".cmm4e-menu-content-container").css({marginTop:a+"px"}):E.find(".cmm4e-menu-content-container").css({marginTop:"20px"})),elementor.panel.currentView.on("set:page:page_settings",w),elementor.channels.deviceMode.on("change",p),elementor.$previewContents.find(".cmm4e-nav-link").on({mouseenter:function(){var a=b(this).parent();a.hasClass("cmm4e-current-menu-item")||D.css({zIndex:1}),a.hasClass("cmm4e-mega")&&a.hasClass("cmm4e-current-edit-item")&&(D.hasClass("cmm4e-content-vertical")?E.find(".cmm4e-menu-content-container").css({marginTop:c+"px"}):E.find(".cmm4e-menu-content-container").css({marginTop:"0"}))},mouseleave:function(){var c=b(this).parent();c.hasClass("cmm4e-current-menu-item")||D.css({zIndex:9}),c.hasClass("cmm4e-mega")&&c.hasClass("cmm4e-current-edit-item")&&(D.hasClass("cmm4e-content-vertical")?E.find(".cmm4e-menu-content-container").css({marginTop:a+"px"}):E.find(".cmm4e-menu-content-container").css({marginTop:"20px"}))}}),$e.route("panel/page-settings/settings")}),elementor.settings.page.model.on("change",function(a){var b=a.changed;_.isUndefined(b.badge_label)||B.find(" > .cmm4e-nav-link .menu-item-badge").text(b.badge_label)})}b(function(){window.cmm4eElementor=window.cmm4eElementor||new a(top.currentEditItem)})}(jQuery);
